# MT103 Fields and Parsing Rules (100% COMPLIANT)

| Tag  | Field Name                | Format / Rules                            | Mandatory / Optional | Key Validation / Extra Rules | Implementation Status |
|------|----------------------------|--------------------------------------------|-----------------------|------------------------------|----------------------|
| 20   | Sender's Reference         | `16x`                                      | Mandatory             | Cannot start or end with `/`, no `//` allowed | ‚úÖ **Complete** |
| 13C  | Time Indication            | `/8c/4!n1!x4!n`                           | Optional              | Code: CLSTIME/RNCTIME/SNDTIME; valid UTC offsets | ‚úÖ **Complete** |
| 23B  | Bank Operation Code        | `4!c`                                      | Mandatory             | Allowed: CRED, CRTS, SPAY, SPRI, SSTD | ‚úÖ **Complete** |
| 23E  | Instruction Code           | `4!c[/30x]`                                | Conditional (C3)      | Only valid codes allowed, some combinations prohibited | ‚úÖ **Complete** |
| 26T  | Transaction Type Code      | `3!c`                                      | Optional              | From EUROSTAT BoP code list | ‚úÖ **Complete** |
| 32A  | Value Date/Currency/Amount | `6!n3!a15d`                                | Mandatory             | Valid date YYMMDD, ISO 4217 currency, correct decimal format | ‚úÖ **Complete** |
| 33B  | Currency/Instructed Amount | `3!a15d`                                   | Conditional (C1, C2, C15) | Present for currency conversions or intra-EU transactions | ‚úÖ **Complete** |
| 36   | Exchange Rate              | `12d`                                      | Conditional (C1)      | Only if 33B currency differs from 32A | ‚úÖ **Complete** |
| 50a  | Ordering Customer          | `A, F, K options`                          | Mandatory             | Option A: BIC; Option F: Structured Name/Address validations | ‚úÖ **Complete** |
| 51A  | Sending Institution        | `[/1!a][/34x] 4!a2!a2!c[3!c]`             | Optional              | Valid BIC, mostly for FileAct | ‚úÖ **Complete** |
| 52a  | Ordering Institution       | `A, D options`                             | Optional              | Option A: BIC; Option D: Name/Address, clearing codes | ‚úÖ **Complete** |
| 53a  | Sender's Correspondent     | `A, B, D options`                          | Conditional (C4, C5, C7) | Complex dependencies with 23B | ‚úÖ **Complete** |
| 54a  | Receiver's Correspondent   | `A, B, D options`                          | Conditional (C6, C7)  | Must match correspondent relationships | ‚úÖ **Complete** |
| 55a  | Third Reimbursement Inst.  | `A, B, D options`                          | Conditional (C8)      | Must be present with 53a & 54a | ‚úÖ **Complete** |
| 56a  | Intermediary Institution   | `A, C, D options`                          | Conditional (C9, C10) | Restrictions with 23B values | ‚úÖ **Complete** |
| 57a  | Account With Institution   | `A, B, C, D options`                       | Conditional (C9, C11) | If 56a present, 57a mandatory | ‚úÖ **Complete** |
| 59a  | Beneficiary Customer       | `A, F, no letter option`                   | Mandatory             | Structured address rules for Option F | ‚úÖ **Complete** |
| 70   | Remittance Information     | `4*35x`                                    | Optional              | Free text, unless national rules apply | ‚úÖ **Complete** |
| 71A  | Details of Charges         | `3!a`                                      | Mandatory             | OUR, SHA, BEN | ‚úÖ **Complete** |
| 71F  | Sender's Charges           | `3!a15d`                                   | Conditional (C14, C15)| Dependent on 71A value | ‚úÖ **Complete** |
| 71G  | Receiver's Charges         | `3!a15d`                                   | Conditional (C14, C15)| Dependent on 71A value | ‚úÖ **Complete** |
| 72   | Sender to Receiver Info    | `6*35x`                                    | Optional              | Only coded information allowed | ‚úÖ **Complete** |
| 77B  | Regulatory Reporting       | `3*35x`                                    | Optional              | Free text | ‚úÖ **Complete** |

## Implementation Summary

### Status Legend
- ‚úÖ **Complete**: Fully implemented with parsing, validation, and serialization
- üü° **Partial**: Basic option implemented, but missing some variants
- ‚ùå **Missing**: Not implemented yet

### Progress Overview
- **Total Fields**: 23
- **‚úÖ Complete**: 23 fields (100%)
- **üü° Partial**: 0 fields (0%)
- **‚ùå Missing**: 0 fields (0%)


## MT103 Conditional Rules Reference Table

| Condition | Rule Description | Impacted Fields |
|------------|-------------------|------------------|
| C1 | If 33B is present and its currency differs from 32A, then 36 must be present; otherwise, 36 must not be present. | 33B, 36 |
| C2 | If both Sender and Receiver BICs are in EU/EEA country codes list, then 33B is mandatory; otherwise, optional. | 33B |
| C3 | If 23B = SPRI ‚Üí 23E can only contain SDVA, TELB, PHOB, INTC.<br> If 23B = SSTD/SPAY ‚Üí 23E must not be used. | 23B, 23E |
| C4 | If 23B = SPRI/SSTD/SPAY ‚Üí 53a must not use Option D. | 23B, 53a |
| C5 | If 23B = SPRI/SSTD/SPAY and 53B is used ‚Üí Party Identifier mandatory. | 23B, 53a |
| C6 | If 23B = SPRI/SSTD/SPAY ‚Üí 54a may only use Option A. | 23B, 54a |
| C7 | If 55a is present ‚Üí both 53a and 54a become mandatory. | 55a, 53a, 54a |
| C8 | If 23B = SPRI/SSTD/SPAY ‚Üí 55a may only use Option A. | 23B, 55a |
| C9 | If 56a is present ‚Üí 57a becomes mandatory. | 56a, 57a |
| C10 | If 23B = SPRI ‚Üí 56a not allowed.<br> If 23B = SSTD/SPAY ‚Üí 56a allowed only Option A or C (if C ‚Üí clearing code mandatory). | 23B, 56a |
| C11 | If 23B = SPRI/SSTD/SPAY ‚Üí 57a allowed only Options A, C, D (in Option D ‚Üí Party Identifier mandatory). | 23B, 57a |
| C12 | If 23B = SPRI/SSTD/SPAY ‚Üí Account subfield in 59a becomes mandatory. | 23B, 59a |
| C13 | If 23E = CHQB ‚Üí Account subfield in 59a must not be used. | 23E, 59a |
| C14 | If 71A = OUR ‚Üí 71F not allowed, 71G optional.<br> If 71A = SHA ‚Üí 71F optional, 71G not allowed.<br> If 71A = BEN ‚Üí 71F mandatory (at least once), 71G not allowed. | 71A, 71F, 71G |
| C15 | If either 71F or 71G is present ‚Üí 33B becomes mandatory. | 71F, 71G, 33B |
| C16 | If 56a not present ‚Üí 23E cannot contain TELI or PHOI. | 56a, 23E |
| C17 | If 57a not present ‚Üí 23E cannot contain TELE or PHON. | 57a, 23E |
| C18 | Currency codes in 71G and 32A must match. | 71G, 32A |